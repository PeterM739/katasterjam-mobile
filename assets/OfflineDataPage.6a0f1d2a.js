import{Q as _,a as b}from"./QFab.5908d0d1.js";import{d2 as g,cJ as x,ef as $,r as i,ar as y,dR as w,cM as l,d9 as k,da as n,de as O,d as s,dc as t,dd as o,df as a,cN as r,cV as p,eP as S,ea as C,F as v,db as Q}from"./index.d880ed97.js";import{Q as D}from"./QMarkupTable.a903c0b9.js";import{S as T}from"./SimpleHeaderMap.94199be9.js";import"./CartoLayers.620906c1.js";import"./WMTS.c1c6dbd5.js";const M=x({name:"OfflineDataPage",components:{SimpleHeaderMap:T},setup(){const e=$(),d=i([1637531,5766419]),f=i(null),c=i(null),h=i(0);return{center:d,extentPolygon:c,offlineRecord:f,numberOfTiles:h,store:e}},methods:{deleteRecord(){this.confirmDialog({title:`${this.$t("confirm")}`,message:`${this.$t("confirmDeleteOfflineRecords")}`,cancel:!0,persistent:!0}).onOk(async()=>{await this.store.deleteAll(this.offlineRecord.id)})}},created(){this.offlineRecord=this.$route.meta.offlineRecord,this.store.getNumberOfTiles(this.offlineRecord.id).then(e=>{this.numberOfTiles=e}),this.offlineRecord.extent&&(this.center=y(this.offlineRecord.extent),this.extentPolygon=[[[this.offlineRecord.extent[0],this.offlineRecord.extent[1]],[this.offlineRecord.extent[0],this.offlineRecord.extent[3]],[this.offlineRecord.extent[2],this.offlineRecord.extent[3]],[this.offlineRecord.extent[2],this.offlineRecord.extent[1]]]])}}),N={class:"text-overline text-orange-9"},P={class:"row no-wrap items-center"},B={class:"col text-h6 ellipsis"},F={key:0,class:"text-grey text-caption q-pt-md items-center"},V={class:"text-left table-row-fit"},z={class:"text-left table-row-fit"},H={class:"text-left table-row-fit"},I={class:"text-left table-row-fit"},A={key:0},q={class:"text-left table-row-fit"},E={class:"text-left table-row-fit"};function J(e,d,f,c,h,L){const u=w("SimpleHeaderMap");return l(),k(O,null,{default:n(()=>[s(u,{center:e.center,extent:e.extentPolygon,height:"400px"},null,8,["center","extent"]),s(a,null,{default:n(()=>[t("div",N,o(e.$t("offlineDataDetails")),1),t("div",P,[t("div",B,o(e.offlineRecord.id)+" - "+o(e.offlineRecord.name),1)]),s(_,{class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},"vertical-actions-align":"right",color:"primary",glossy:"",icon:"keyboard_arrow_down",direction:"down"},{default:n(()=>[s(b,{"label-position":"left",color:"green",icon:"delete",label:e.$t("delete"),onClick:e.deleteRecord},null,8,["label","onClick"])]),_:1})]),_:1}),s(a,{horizontal:""},{default:n(()=>[s(a,null,{default:n(()=>[e.offlineRecord.date?(l(),r("div",F,o(e.$t("date"))+": "+o(e.offlineRecord.date),1)):p("",!0)]),_:1})]),_:1}),s(S),s(D,null,{default:n(()=>[t("tbody",null,[t("tr",null,[t("td",V,o(e.$t("numberOfTiles")),1),t("td",z,o(e.numberOfTiles)+" tiles",1)]),t("tr",null,[t("td",H,o(e.$t("storedItems")),1),t("td",I,[(l(!0),r(v,null,C(e.offlineRecord.selectedItems,(m,R)=>(l(),r("span",{key:m},[Q(o(e.$t(m)),1),R+1<e.offlineRecord.selectedItems.length?(l(),r("span",A,", ")):p("",!0)]))),128))])]),t("tr",null,[t("td",q,o(e.$t("dataSize")),1),t("td",E,o((parseInt(e.offlineRecord.totalSize)/1e6).toFixed(2))+" MB",1)])])]),_:1})]),_:1})}var X=g(M,[["render",J]]);export{X as default};
