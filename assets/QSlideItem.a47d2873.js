import{T as D}from"./TouchPan.3b569cbf.js";import{c$ as E,dE as k,dG as M,r as O,c as C,eE as R,dm as T,h as m,dj as P,dO as _,g as z}from"./index.d880ed97.js";function B(){let s=Object.create(null);return{getCache:(t,c)=>s[t]===void 0?s[t]=typeof c=="function"?c():c:s[t],setCache(t,c){s[t]=c},hasCache(t){return s.hasOwnProperty(t)},clearCache(t){t!==void 0?delete s[t]:s={}}}}const $=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var L=E({name:"QSlideItem",props:{...k,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(s,{slots:t,emit:c}){const{proxy:b}=z(),{$q:y}=b,x=M(s,y),{getCache:S}=B(),p=O(null);let d=null,i={},h={},g={};const f=C(()=>y.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),q=C(()=>"q-slide-item q-item-type overflow-hidden"+(x.value===!0?" q-slide-item--dark q-dark":""));function v(){p.value.style.transform="translate(0,0)"}function w(e,l,n){s.onSlide!==void 0&&c("slide",{side:e,ratio:l,isReset:n})}function j(e){const l=p.value;if(e.isFirst)i={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},l.classList.add("no-transition"),$.forEach(r=>{if(t[r[0]]!==void 0){const u=g[r[0]];u.style.transform="scale(1)",i.size[r[0]]=u.getBoundingClientRect()[r[3]]}}),i.axis=e.direction==="up"||e.direction==="down"?"Y":"X";else if(e.isFinal){l.classList.remove("no-transition"),i.scale===1?(l.style.transform=`translate${i.axis}(${i.dir*100}%)`,d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,c(i.showing,{reset:v}),c("action",{side:i.showing,reset:v})},230)):(l.style.transform="translate(0,0)",w(i.showing,0,!0));return}else e.direction=i.axis==="X"?e.offset.x<0?"left":"right":e.offset.y<0?"up":"down";if(t.left===void 0&&e.direction===f.value.right||t.right===void 0&&e.direction===f.value.left||t.top===void 0&&e.direction==="down"||t.bottom===void 0&&e.direction==="up"){l.style.transform="translate(0,0)";return}let n,a,o;i.axis==="X"?(a=e.direction==="left"?-1:1,n=a===1?f.value.left:f.value.right,o=e.distance.x):(a=e.direction==="up"?-2:2,n=a===2?"top":"bottom",o=e.distance.y),!(i.dir!==null&&Math.abs(a)!==Math.abs(i.dir))&&(i.dir!==a&&(["left","right","top","bottom"].forEach(r=>{h[r]&&(h[r].style.visibility=n===r?"visible":"hidden")}),i.showing=n,i.dir=a),i.scale=Math.max(0,Math.min(1,(o-40)/i.size[n])),l.style.transform=`translate${i.axis}(${o*a/Math.abs(a)}px)`,g[n].style.transform=`scale(${i.scale})`,w(n,i.scale,!1))}return R(()=>{h={},g={}}),T(()=>{d!==null&&clearTimeout(d)}),Object.assign(b,{reset:v}),()=>{const e=[],l={left:t[f.value.right]!==void 0,right:t[f.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},n=Object.keys(l).filter(o=>l[o]===!0);$.forEach(o=>{const r=o[0];t[r]!==void 0&&e.push(m("div",{key:r,ref:u=>{h[r]=u},class:`q-slide-item__${r} absolute-full row no-wrap items-${o[1]} justify-${o[2]}`+(s[r+"Color"]!==void 0?` bg-${s[r+"Color"]}`:"")},[m("div",{ref:u=>{g[r]=u}},t[r]())]))});const a=m("div",{key:`${n.length===0?"only-":""} content`,ref:p,class:"q-slide-item__content"},P(t.default));return n.length===0?e.push(a):e.push(_(a,S("dir#"+n.join(""),()=>{const o={prevent:!0,stop:!0,mouse:!0};return n.forEach(r=>{o[r]=!0}),[[D,j,void 0,o]]}))),m("div",{class:q.value},e)}}});export{L as Q};
